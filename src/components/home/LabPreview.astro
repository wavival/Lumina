---
import Link from "../ui/Link.astro";
import ProjectCard from "../projects/ProjectCard.astro";

interface Project { slug: string; title: string; cover: string; summary?: string; href?: string; links?: { site?: string; github?: string; behance?: string }; }

interface Props { title?: string; subtitle?: string; projects: Project[]; moreHref?: string; }

const { title = "Laboratorio", subtitle = "Creativo y Producción", projects = [], moreHref = "/projects", } = Astro.props as Props;
---

<section class="py-9 px-[32px] flex flex-col w-full lg:px-0 lg:w-[1024px] justify-self-center">
  <header class="mb-6">
    <h2 class="text-[28px] font-bold text-[var(--text-primary)]">{title}</h2>
    <p class="text-body-xl font-bold text-[var(--brand-blue)]">{subtitle}</p>
  </header>

  <ul role="list" class="flex flex-col gap-6 md:flex-row md:overflow-x-auto md:snap-x md:snap-mandatory md:pb-2 lg:grid lg:grid-cols-3 lg:gap-auto lg:overflow-visible self-center mb-7 lg:w-full" aria-label="Proyectos del laboratorio">
    {projects.map((p) => (
      <li class="snap-start md:min-w-[320px] md:max-w-[420px] lg:min-w-0">
        <ProjectCard title={p.title} cover={p.cover} href={p.href ?? `/projects/${p.slug}`} summary={p.summary} links={p.links} />
      </li>))}
  </ul>
  <Link href="/projects/" class="nav-link">Ver más</Link>
</section>