---
/* src/sections/LabSection.astro */
import Link from "../ui/Link.astro";
import ProjectCard from "../projects/ProjectCard.astro";

interface Project {
  slug: string;
  title: string;
  cover: string;
  summary?: string;
  href?: string;
  // ...cualquier otro campo que use tu ProjectCard
}

interface Props {
  title?: string;
  subtitle?: string;
  projects: Project[];
  moreHref?: string;     // enlace "Ver m치s"
}

const {
  title = "Laboratorio",
  subtitle = "Creativo y Producci칩n",
  projects = [],
  moreHref = "/projects",
} = Astro.props as Props;
---

<section class="px-6 md:px-8 py-8">
  <!-- Encabezado -->
  <header class="mb-6">
    <h2 class="text-[28px] font-bold text-[var(--text-primary)]">{title}</h2>
    <p class="text-body-xl font-bold text-[var(--accent-primary)]">{subtitle}</p>
  </header>

  <!-- Lista / Slider / Grid -->
  <ul
    role="list"
    class="
      flex flex-col gap-6
      md:flex-row md:overflow-x-auto md:snap-x md:snap-mandatory md:pb-2
      lg:grid lg:grid-cols-3 lg:gap-8 lg:overflow-visible
    "
    aria-label="Proyectos del laboratorio"
  >
    {projects.map((p) => (
      <li
        class="
          snap-start
          md:min-w-[320px] md:max-w-[420px]
          lg:min-w-0
        "
      >
        <ProjectCard
          title={p.title}
          cover={p.cover}
          href={p.href ?? `/projects/${p.slug}`}
          summary={p.summary}
        />
      </li>
    ))}
  </ul>

  <!-- CTA Ver m치s -->
  <div class="mt-6 flex justify-center">
    <Link href={moreHref} class="uppercase">
      Ver m치s
    </Link>
  </div>
</section>